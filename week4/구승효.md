# 
### range

ìˆ«ì í•˜ë‚˜ë¥¼ ë°›ê³ , ê·¸ ìˆ«ìì˜ í¬ê¸°ë§Œí•œ ë°°ì—´ì„ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜

ì•„ë˜ì™€ ê°™ì€ ì½”ë“œ ì²˜ëŸ¼ ë™ì‘í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë´…ë‹ˆë‹¤.

```jsx
log(range(5)); // [0, 1, 2, 3, 4]
log(range(2)); // [0, 1]
```

ë§Œë“¤ì–´ì§„ rangeí•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ê² ì£ ?

```jsx
const range = l => {
	let i = -1;
	let res = [];
	while (++i < l) {
		res.push(i);
	}
	return res;
}
```

ì´ range í•¨ìˆ˜ì˜ ì´í•©ì„ êµ¬í•˜ëŠ” í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ê²Œ ë©ë‹ˆë‹¤.

```jsx
const add = (a, b) => a + b;
const list = range(4);
console.log(reduce(add, list));
```

### ëŠê¸‹í•œ L.range

ì´í„°ë ˆì´í„°ë¥¼ ë§Œë“œëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¡œ range í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.

```jsx
const L = {};
L.range = function *(l) {
	let i = -1;
	while (++i < l) {
		yield i;
	}
}
```

```jsx
const list2 = L.range(4);
log(list2);
log(reduce(add, list2));
```

ê·¸ëƒ¥ rangeì™€ ëŠê¸‹í•œ rangeëŠ” ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.

ì–´ë””ì—ì„œ ì°¨ì´ê°€ ìˆì„ê¹Œìš”?

rangeë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ list ë³€ìˆ˜ì— ë‹´ê¸´ ê°’ì´ ë°°ì—´ì¸ ìƒíƒœì…ë‹ˆë‹¤.

ì¦‰ì‹œ, ë°°ì—´ë¡œ ì™„ì „íˆ í‰ê°€ê°€ ë©ë‹ˆë‹¤.

ë°˜ëŒ€ë¡œ L.rangeëŠ” ì´í„°ë ˆì´í„° ë‚´ë¶€ì—ì„œ ê°’ì„ ë°œìƒì‹œí‚¬ ì´í„°ë ˆì´í„°ê°€ ìˆœíšŒí•  ë•Œë§ˆë‹¤ ê°’ì´ í‰ê°€ë˜ê²Œ ë©ë‹ˆë‹¤. (ì¤‘ê°„ì— ì‹¤í–‰ì‹œí‚¤ë‹¤ ë§ ìˆ˜ë„ ìˆëŠ” ê²ƒ) í•´ë‹¹ ê°’ì´ ì›í•  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¸ë‹¤ê°€ í‰ê°€ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ì „ì—ì„œ ë°°ì› ë“¯, ê·¸ëƒ¥ rangeëŠ” listë¡œ ë§Œë“¤ê¸° ë•Œë¬¸ì— ë‚´ë¶€ì—ì„œëŠ” ì´í„°ë ˆì´í„°ë¡œ ë§Œë“¤ì–´ì§€ëŠ” ë™ì‘ê³¼ì •ì„ ê±¸ì³ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.

### í…ŒìŠ¤íŠ¸ í•´ë³´ê¸°

ì¦‰ì‹œ ëª¨ë“  ê°’ì„ í‰ê°€í•œ í›„, í•´ë‹¹í•˜ëŠ” ê°’ì„ ì´í„°ë ˆì´í„°ë¡œ ë§Œë“¤ì–´ì„œ reduceë¥¼ í†µí•´ í‰ê°€ë¥¼ í•˜ëŠ” ì½”ë“œ vs ë°”ë¡œ ì´í„°ë ˆì´í„°ë¡œ ë§Œë“¤ì–´ì„œ reduceë¥¼ í†µí•´ í‰ê°€ë¥¼ í•˜ëŠ” ì½”ë“œ ì¤‘ ë¬´ì—‡ì´ ì„±ëŠ¥ë©´ì—ì„œ ë” ê´œì°®ì„ì§€ ì•Œì•„ë´…ë‹ˆë‹¤.

(í° ì„±ëŠ¥ ìƒì˜ ì°¨ì´ëŠ” ë‚˜ì§€ ì•Šì§€ë§Œ, L.rangeê°€ ì¡°ê¸ˆ ë” ë¹ ë¦…ë‹ˆë‹¤.)

```jsx
// console.time()ê³¼ console.timeEnd()ë¥¼ ì´ìš©í•´ ì‘ì—… ì‹œê°„ ì¸¡ì •
// timeê³¼ timeEndì— ê°™ì€ labelì´ ë“¤ì–´ê°€ì•¼ í•¨
function test(name, time, f) {
	console.time(name);
	while (time--) f();
	console.timeEnd(name);
}

test('range', 10, () => reduce(add, range(100000)));
test('L.range', 10, () => reduce(add, L.range(100000)));
```

### take

ë§ì€ ê°’ `(as ì´í„°ëŸ¬ë¸” í˜•íƒœ)`ì„ ë°›ì€ ë’¤, ì›í•˜ëŠ” ê¸¸ì´ë§Œí¼ ì˜ë¼ì£¼ëŠ” í•¨ìˆ˜

```jsx
const take = (l, iter) => {
	const res = [];
	for (const a of iter) {
		res.push(a);
		if (res.length == l) return res;
	}
	return res;
}
```

ì•„ê¹Œ ë§Œë“¤ì—ˆë˜ range í•¨ìˆ˜ì™€ í•¨ê»˜ ì“°ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```jsx
log(take(5, range(100)));
log(take(5, L.range(100)));
```

ì´ëŸ° ê²½ìš°, Lazyí•œ ê²½ìš° ëª¨ë“  ê°’ì„ ë§Œë“œëŠ” ê²ƒì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ë¬´í•œ ìˆ˜ì—´ì„ ë„£ì–´ë„ ë™ì‘í•˜ê³ , ì¼ë°˜ í•¨ìˆ˜ ë³´ë‹¤ ë¹ ë¥´ê²Œ(íš¨ìœ¨ì ìœ¼ë¡œ)  ë™ì‘í•˜ê²Œ ë©ë‹ˆë‹¤.

â†’ ì—°ì‚°ì„ ë¯¸ë£¨ë‹¤ê°€, í•„ìš”í•  ë•Œë§Œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸! ğŸ¤”

```jsx
// ë³´ê¸° ì¢‹ê²Œ ë§Œë“¤ê¸° ìœ„í•´ curry ì ìš©í•˜ê¸°
const take = curry((l, iter) => {
	const res = [];
	for (const a of iter) {
		res.push(a);
		if (res.length == l) return res;
	}
	return res;
});
```

```jsx
// í‰ê°€í•´ë³´ê¸° - range
console.time('');
go(
	range(10000),
	take(5),
	reduce(add),
	log);
console.timeEnd('');

// í‰ê°€í•´ë³´ê¸° - L.range
console.time('');
go(
	L.range(10000),
	take(5),
	reduce(add),
	log);
console.timeEnd('');

```

### ì§€ì—° í‰ê°€

ê²Œìœ¼ë¦„ í‰ê°€ë¼ê³ ë„ ì´ì•¼ê¸° í•˜ì§€ë§Œ, ê²Œìœ¼ë¥´ê¸°ë§Œ í•œ ê²ƒì´ ì•„ë‹Œ, ì˜ë¦¬í•˜ê²Œ í‰ê°€í•œë‹¤ê³  ë³´ë©´ ë©ë‹ˆë‹¤. ì§€ì—° í‰ê°€ì˜ ë˜ ë‹¤ë¥¸ í‘œí˜„ë“¤ì„ ë³¼ê¹Œìš”?

- ì œ ë•Œ ê³„ì‚°ë²•
- ëŠê¸‹í•œ ê³„ì‚°ë²•
- ì œë„ˆë ˆì´í„°/ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„

ì§€ì—°í‰ê°€, ì½”ë“œë¥¼ ê°’ìœ¼ë¡œ ë‹¤ë£¨ëŠ” í”„ë¡œê·¸ë˜ë°ìœ¼ë¡œ í•  ë•Œ ê³µì‹ì ì¸ ê¸°ëŠ¥ì´ ì¶”ê°€ëœ ê²ƒì´ê¸° ë•Œë¬¸ì—, ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë˜ëŠ” í•¨ìˆ˜ë“¤ì´ ì•ˆì „í•˜ê²Œ í•©ì„±í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ ê°•ì˜ì—ì„œëŠ” ì´í„°ëŸ¬ë¸”/ë¦¬ìŠ¤íŠ¸/ì»¬ë ‰ì…˜ ì¤‘ì‹¬ í”„ë¡œê·¸ë˜ë° ê¸°ë²•ìœ¼ë¡œ ê³„ì† ê°œë°œí•˜ê²Œ ë©ë‹ˆë‹¤.

map, filter, reduce, í˜¹ì€ takeê°™ì€ 

ì–´ë–»ê²Œ ì§€ì—°ì„±ì„ ë¶€ì—¬í•  ìˆ˜ ìˆê³ , ì§€ì—°ì„±ì„ ê³µì‹ì ì¸ ê°’ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ì§€

### L.map

ì•ì„œ ë§Œë“¤ì—ˆë˜ mapì„ ì œë„ˆë ˆì´í„°/ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œì„ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ í•´ë´…ë‹ˆë‹¤.

```jsx
L.map = function *(f, iter) {
	for (const a of iter) yield a;
}
L.map(a => a + 10, [1, 2, 3]); // ì´ê²ƒë§Œìœ¼ë¡œëŠ” í‰ê°€ ë˜ì§€ ì•ŠìŒ
var it = L.map([1, 2, 3]);
log(it.next()); // í‰ê°€ë¨
log(it.next()); // í‰ê°€ë¨
log(it.next()); // í‰ê°€ë¨
log([...it]); // [11, 12, 13]
```

### L.filter

ì§€ì—°ì„±ì„ ê°€ì§„ filterë¥¼ ë§Œë“¤ì–´ë´…ë‹ˆë‹¤.

```jsx
// ì›í•˜ëŠ” ìƒí™©ì—ì„œë§Œ yieldê°€ ë  ìˆ˜ ìˆë„ë¡ í•´ë‹¹í•˜ëŠ” ê°’ í•„í„°ë§
L.filter = function *(f, iter) {
	for (const a of iter) if (f(a)) yield a;
}
var it = L.filter(a => a % 2, [1, 2, 3, 4];
log(it.next().value); // 1
log(it.next().value); // 3
log(it.next().value); // undefined
```
